$qw-tab-height-diff: 2 * ($qw-tab-pseudoborder + $qw-tab-deco-border-width);

.qw-joinedtab {
  float: left;
  margin-right: $button-tny;
  padding-top: $qw-tab-pseudoborder;
  padding-bottom: $qw-tab-pseudoborder;

  @media #{$mobile-only} {height: calc(#{$qw-top-two-height-mobile} - 2 * #{$qw-tab-pseudoborder});}
  @media #{$small-up} {height: calc(#{$qw-top-two-height} - 2 * #{$qw-tab-pseudoborder});}

  &,
  & > *{
    transition: background $qw-tab-transition-time ease-in-out;
  }

  & > * {
    border-width: $qw-tab-deco-border-width;
    border-style: solid;
    border-color: transparent;
  }
  & > *:not(:first-child) {
    border-left: none;
  }
  & > *:not(:last-child) {
    border-right: none;
  }
  & > *:first-child {
    border-top-left-radius: $qw-tab-radius;
    border-bottom-left-radius: $qw-tab-radius;
    &:hover {
      border-top-left-radius: 0;
      border-bottom-left-radius: 0;
    }
  }
  & > *:last-child {
    border-top-right-radius: $qw-tab-radius;
    border-bottom-right-radius: $qw-tab-radius;
    &:hover {
      border-top-right-radius: 0;
      border-bottom-right-radius: 0;
    }
  }

  & a {
    text-decoration: none;
  }

  &:hover.active {
    &,
    &:before,
    & a {
      color: $qw-tab-text-active-hilight-color;
    }
  }
  &.active {
    &,
    &:before,
    & a {
      color: $qw-tab-text-active-color;
      font-weight: $qw-tab-active-weight;
    }
  }

  &:hover {
    &,
    &:before,
    & a {
      color: $qw-tab-text-inactive-hilight-color;
    }
  }
  &,
  &:before,
  & a {
    color: $qw-tab-text-inactive-color;
  }

  & > a,
  & >.sub-tab > a {
    &:before {
      font-family:"QWikiSymbol";
      font-size: 1.75rem;
      vertical-align: middle;
      margin-right: $button-tny;
      transition: margin-right $qw-tab-transition-time linear;
    }
  }


  > a {
    display: inline-block;

    @media #{$mobile-only} {
      height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
      line-height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
    }

    @media #{$small-up} {
      height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
      line-height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
    }

    font-size: rem-calc(13);
    padding-left: $button-tny;
    padding-right: $button-tny;
  }


  &.approved {
    > a {
      &:before {
        @extend .icon-page-free;
      }
    }

    &.active,
    &:hover {
      &,
      & > * {
        background: $qw-tab-approved-active-color;
      }
    }

    &.inactive:not(:hover) {
      background: transparent;
      > a {
          background: $qw-tab-approved-inactive-color;
      }
    }
  }

  &.unapproved {
    > a:before {
      @extend .icon-page-draft;
    }

    & > * {
      background-image: none;
    }

    &.inactive {
      & > * {
        background-color: $qw-tab-unapproved-inactive-color;
      }
    }

    &:hover,
    &.active {
      background-image: $qw-stripes;
      background-color: $qw-tab-unapproved-active-color;

      & > * {
        background-color: $qw-edit-color;
      }
    }
  }

  > .sub-tab {
    float: right;
    @media #{$mobile-only} {height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;}
    @media #{$small-up} {height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;}

    > a {
      display: inline-block;
      border: none;
      font-size: rem-calc(13);
      font-weight: normal;
      background-color: $qw-tab-subtab-color;
      background-image: none;
      border-radius: $qw-tab-radius;
      border-color: $qw-tab-subtab-color;
      padding-left: $button-tny;
      padding-right: $button-tny;

      @media #{$mobile-only} {
        height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
        line-height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
      }

      @media #{$small-up} {
        height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
        line-height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
      }

      &:not(:hover) {
        &:before {
          margin-right: 0;
        }

        .expander {
          max-width: 0;
        }
      }

      .expander {
        width: auto;
        max-width: rem-calc(500);
        overflow-x: hidden;
        float: right;
        transition: max-width $qw-tab-transition-time ease-in-out;
        white-space: nowrap;

        @media #{$mobile-only} {
          height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
          line-height: rem-calc($qw-top-two-height-mobile) - $qw-tab-height-diff;
        }

        @media #{$small-up} {
          height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
          line-height: rem-calc($qw-top-two-height) - $qw-tab-height-diff;
        }
      }
    }

    &.edit > a:before {
      @extend .icon-edit;
    }
  }
}

// printing, further topic actions, language selector, etc
.qw-action-button {
  @include button( $padding: $button-tny, $bg: $qw-actionbtn-bg, $radius: $global-radius );
  margin-bottom: 0px;
  padding: rem-calc(4 10);
  margin-top: rem-calc(3);
  color: $qw-actionbtn-color;

  &:hover {
    background: $qw-actionbtn-hover-bg;
    color: $qw-actionbtn-hover-color;
  }

  &:active {
    background: $qw-actionbtn-active-bg;
    color: $qw-actionbtn-hover-color;
  }

  &.active {
    background: $qw-actionbtn-active-bg;
    color: $qw-actionbtn-hover-color;

    &:hover {
      background: lighten($qw-actionbtn-active-bg, 10%);
    }
  }
}
