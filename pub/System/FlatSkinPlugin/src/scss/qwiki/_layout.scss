// content container (main layout)
.qw-page {
  @include grid-row();
  margin: $qw-top-height 0;

  > .qw-left {
    @media #{$small-only} { @include grid-column( $columns: $total-columns ); }
    @media #{$medium-up} { @include grid-column( $columns: 8 ); }
    @media #{$large-up} { @include grid-column( $offset: 1 ); }
    position: relative;

    > .content, .meta {
      background: $qw-content-bg;
      padding: $qw-content-padding;
    }

    > .meta label {
      color: #ccc;
    }
  }

  > .qw-right {
    @media #{$small-only} { display: none; }
    @media #{$medium-only} { @include grid-column( $columns: 4, $last-column: true ); }
    @media #{$large-up} { @include grid-column( $columns: 3, $last-column: true ); }
    position: relative;
  }
}

@mixin qw-top {
  @include grid-row();

  position: fixed;
  top: 0;
  left:0;
  z-index: 99;
}

.qw-top-one {
  @include qw-top();
  background: $qw-top-one-bg;
  min-height: $qw-top-one-height;
  max-height: $qw-top-one-height;
  border-bottom: $qw-top-one-border-width solid $qw-top-one-border-color;

  .button {
    background: transparent;
    color: $qw-top-one-color;
    max-height: $qw-top-one-height;
    font-size: 1rem;
  }

  > .qw-menu {
    color: $qw-breadcrumb-color;
    cursor: pointer;
    padding-top: rem-calc(8);

    @media #{$small-up} { @include grid-column( $columns: 1 ); }
    @media #{$medium-up} {
      padding-left: $column-gutter/2 !important;
      padding-right: 0 !important;
    }

    max-height: $qw-top-one-height;
    min-height: $qw-top-one-height;
    transition-property: width;
    transition-timing-function: ease-in-out;
    transition-duration: 0.3s;
    @media #{$large-up} {
      transition-duration: 0.15s;
    }

    .qw-menu-icon {
      @extend .fa;
      @extend .fa-reorder;
      @extend .fa-lg;
      @extend .left;
      padding: rem-calc(4);
    }

    .qw-menu-text {
      @extend .left;
      margin-bottom: 3px;
      display: none;
      transition: opacity 0.15s ease-in-out;
      opacity: 0;

      @media #{$large-up} {
        opacity: 1;
        display: inline-block;
      }
    }

    .qw-menu-close {
      @extend .fa;
      @extend .fa-times;
      @extend .fa-lg;
      @extend .right;
      padding: rem-calc(4);
      transition: opacity 0.15s ease-in-out;
      opacity: 0;
    }
  }

  > .qw-breadcrumbs {
    max-height: $qw-top-one-height;
    min-height: $qw-top-one-height;

    @media #{$small-only} { display: none; }
    @media #{$medium-only} { @include grid-column( $columns: 7 ); }
    @media #{$large-up} { @include grid-column( $columns: 8 ); }

    @media #{$medium-up} {
      padding-left: 0 !important;
      margin-left: $column-gutter/2;
      margin-right: -1 * $column-gutter/2;
      border-left: $qw-breadcrumb-border-width solid $qw-breadcrumb-border-color;

      ul {
        margin-left: 0;
      }
    }
  }

  > .qw-search {
    max-height: $qw-top-one-height;
    min-height: $qw-top-one-height;

    @media #{$large-up} { @include grid-column( $columns: 3, $last-column: true ); }
    @media #{$medium-only} { @include grid-column( $columns: 4, $last-column: true ); }
    @media #{$small-only} {
      @include grid-column( $columns: 1, $offset: 10, $last-column: true );
      float: right;
    }

    > .close {
      position: fixed;
      height: $qw-top-one-height;
      margin-left: -1 * $qw-search-close-btn-width;
      width: $qw-search-close-btn-width;
      padding: rem-calc(5 10);
      background: $body-bg;
      cursor: pointer;
      display: none;
      border-left: $qw-searchbar-border-width solid $qw-searchbar-border-color;

      .qw-close-btn {
        padding: rem-calc( 10 );
      }

      // &:hover {
      //   background: $qw-content-bg;
      // }

      // > div {
      //   background: $qw-searchbar-close-btn-bg;
      //   color: $qw-searchbar-close-btn-color;
      //   border-radius: 5px;
      //   padding: rem-calc(7 12 7 10);
      //   width: 100%;
      //   height: 100%;
      // }
    }

    > .qw-search-form {
      @media #{$small-only} {
        display: none;
      }

      > .form-content {
        @include grid-row($behavior: collapse);

        > .qw-inline-input {
          @include grid-column(
            $columns: 11,
            $last-column: false,
            $collapse: true,
            $float: left
          );

          min-width: 40px;
        }

        > .qw-inline-submit {
          @include grid-column(
            $columns: 1,
            $last-column: true,
            $collapse: true,
            $float: left
          );

          padding: rem-calc(5);

          > .submit {
            @include button(
              $padding: $button-med,
              $bg: $qw-top-one-bg,
              $radius: 5px,
              $full-width: true,
              $is-input: false
            );

            min-width: 40px;
          }
        }
      }
    }

    .qw-search-icon {
      @extend .fa;
      @extend .fa-lg;
      @extend .fa-search;

      cursor: pointer;
      display: inline-block;
      color: $qw-breadcrumb-color;
      margin-top: rem-calc(12);

      @media #{$medium-up} {
        display: none;
      }
    }
  }

  > .qw-edit-title {
    max-height: $qw-top-one-height;
    min-height: $qw-top-one-height;

    @media #{$small-only} { display: none; }
    @media #{$medium-only} { @include grid-column( $columns: 7 ); }
    @media #{$large-up} { @include grid-column( $columns: 8 ); }

    > .content {
      border-left: $qw-border-width solid $qw-border-bg;
      margin-left: -1 * $qw-border-width;
      padding: rem-calc(5 15);
    }
  }

  > .qw-cancel-edit > a {
    color: $qw-breadcrumb-color;
    float: right;
  }
}

.qw-top-two {
  $maxHeight: 33px;

  @include qw-top();
  top: $qw-top-one-height;
  background: $qw-top-two-bg;
  min-height: $qw-top-two-height;
  max-height: $qw-top-two-height;
  z-index: 98;

  // left side containing tabs + topic interaction buttons
  > .qw-context {
    @media #{$small-only} { @include grid-column( $columns: $total-columns ); }
    @media #{$medium-up} { @include grid-column( $columns: 8 ); }
    @media #{$large-up} { @include grid-column( $offset: 1 ); }

    > .content {
      border-bottom: $qw-context-border-width solid $secondary-color;
      height: $qw-context-border-width + $qw-top-two-height;
      padding-top: $qw-top-two-height - $maxHeight;

      > * {
        max-height: $maxHeight;
      }
    }
  }

  // right side, containing cip, comments, history etc.
  > .qw-actions {
    @media #{$small-only} { display: none; }
    @media #{$medium-only} { @include grid-column( $columns: 4, $last-column: true, $float: right ); }
    @media #{$large-up} { @include grid-column( $columns: 3, $last-column: true, $float: right ); }

    > .content {
      border-bottom: $qw-context-border-width solid $qw-context-border-color;
      height: $qw-context-border-width + $qw-top-two-height;
      padding-top: $qw-top-two-height - $maxHeight;

      > * {
        max-height: $maxHeight;
      }
    }
  }
}

// printing, further topic actions, language selector, etc
.qw-action-button {
  @include button( $padding: $button-tny, $bg: $secondary-color );
  background: transparent;
}

.qw-document-head {
  margin: 0 -$column-gutter;
  padding: $column-gutter $column-gutter 0 $column-gutter;
  border-bottom: $qw-document-head-border-width solid $qw-document-head-border-color;

  label {
    display: inline-block;
  }

  // todo @below

  input, input:disabled {
    border: none;
    border-radius: rem-calc(4);
    max-height: rem-calc(30);

    &:not(.button) {
      box-shadow: none;
      background: #eee;
    }

    &.button {
      display: inline-block;
      float: right;
      margin-top: 20px;
      background: #eee;
    }
  }

  .clearfix {
    clear: both;
  }
}
