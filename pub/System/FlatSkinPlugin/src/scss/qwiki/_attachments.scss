#qw-file-uploader {
  border-radius: $global-radius;
  height: auto;
  background-color: $qw-upload-dnd-bg;
  position: absolute;
  top: 60px;
  bottom: 10px;
  left: rem-calc(6);
  right: rem-calc(6);

  &:hover {
    cursor: pointer;
    background-color: $qw-upload-dnd-hover-bg;
  }

  &.drag {}

  > div {
    padding: $global-radius;
  }

  .icon-upload {
    color: $primary-color;
    font-size: 1.5rem;
  }

  .upload {
    position: relative;
    $pad: rem-calc(3);
    padding: $pad;
    width: calc(100% - 2 * #{$pad});
    min-width: calc(100% - 2 * #{$pad});
    height: 40px;

    background: #f5f5f5;
    overflow: hidden !important;
    border-radius: $global-radius;

    &:not(:last-child) {
      margin-bottom: $global-radius;
    }

    div.progress {
      width: 0;
      height: 100%;
      background: #e0e0e0;
      border-radius: $global-radius;
    }

    .filename {
      font-size: 0.9rem;
    }

    span {
      position: absolute;
      left: rem-calc(6);
      font-size: 0.7rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;

      &.filename {
        top: rem-calc(5);
        width: calc(100% - 12px);
      }

      &.progress {
        top: rem-calc(25);
      }
    }
  }
}

.qw-attachments-container {
  position: fixed;
  right: $qw-content-padding;
  background: $qw-infobar-content-bg;
  z-index: 100;
  overflow: hidden !important;
  transition: transform 0.3s ease-in-out;
  transform: translate3d(125%, 0, 0);

  $p: percentage(1/$total-columns);
  @media #{$mobile-up} {width: calc(100% - 2 * #{$qw-content-padding});}
  @media #{$medium-only} {width: calc(6 * #{$p} - 3 * #{$qw-content-padding});}
  @media #{$large-only} {width: calc(4 * #{$p} - 2 * #{$qw-content-padding});}
  @media #{$extended-up} {width: calc(3 * #{$p} - 2 * #{$qw-content-padding});}

  @media #{$mobile-only} {
    top: $qw-top-height-mobile;
    height: calc(99% - #{$qw-top-height-mobile});
  }

  @media #{$small-up} {
    top: $qw-top-height;
    height: calc(99% - #{$qw-top-height});
  }

  &.active {
    transform: translate3d(0, 0, 0);

    &.offcanvas {
      &.leftbar {
        transform: translate3d( $qw-leftbar-width-expanded, 0, 0 );
      }
    }
  }

  > section.list, section.details, section.attach {
    position: absolute;
    top: 0;
    left: 0;
    min-width: 100%;
    min-height: 100%;
  }

  > section.list {
    transform: translate3d( 0, 0, 0 );
    transition: transform 0.3s ease-in-out;

    &.deactive {
      transform: translate3d( -100%, 0, 0 );
    }

    > div {
      padding: rem-calc(6);

      &:first-child {
        border-bottom: 1px solid $qw-border-bg;
      }

      > .heading {
        @include grid-row();
        max-height: rem-calc(40);

        > .back {
          @include grid-column($columns: 2, $collapse: true);
        }

        > .title {
          @include grid-column($columns: 8, $collapse: true);
          padding-top: rem-calc(10);
          font-size: rem-calc(14);
          margin-left: rem-calc(-10);
          margin-right: rem-calc(10);
        }

        > .upload {
          @include grid-column($columns: 2, $collapse: true);
          > * {float: right; padding-top: rem-calc(4);}
        }
      }

      > .slimScrollDiv {
        width: 100% !important;
      }

      ul {
        list-style: none;
        padding: 0;
        margin: 0;

        li {
          margin: 0;
          padding: rem-calc(12 6);
          border-radius: $global-radius;
          cursor: pointer;
          font-size: 0.9rem;

          &:nth-child(odd) {
            background: $qw-attachtable-odd-row-bg;
          }

          &:hover {
            background: $qw-infobar-item-hover-bg;
            color: $qw-infobar-item-hover-color;

            &:after {
              font-family: 'QWikiSymbol';
              float: right;
              content: $icon-arrow-right;
              margin-top: -15px;
              margin-right: 5px;
            }
          }
        }
      }

      .attachment {
        @include grid-row($behavior: collapse);
        > div {
          font-size: 0.8rem;
          .title {
            @include grid-column($columns: 9, $collapse: true);

            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }

          .date {
            @include grid-column($columns: 3, $collapse: true);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #999;
          }

          .raw {
            display: none !important;
          }
        }
      }
    }
  }

  > section.attach {
    position: relative;
    transform: translate3d( 100%, 0, 0 );
    transition: transform 0.3s ease-in-out;

    &.active {
      transform: translate3d( 0, 0, 0 );
    }

    > div {
      padding: rem-calc(6);

      &:first-child {
        border-bottom: 1px solid $qw-border-bg;
      }

      &.slimScrollDiv {
        width: calc( 100% - 14px) !important; // 100% - 2*padding + 2*border-width;
      }

      > .heading {
        @include grid-row();
        max-height: rem-calc(40);

        > .back {
          @include grid-column($columns: 2, $collapse: true);
        }

        > .title {
          @include grid-column($columns: 8, $collapse: true);
          padding-top: rem-calc(10);
          font-size: rem-calc(14);
          margin-left: rem-calc(-10);
          margin-right: rem-calc(10);
        }
      }

      > #qw-file-uploader {
        z-index: 1;

        > .hint {
          display: inline-block;
          text-align: center;
          position: absolute;
          top: 50%;
          left: 33%;
          color: $primary-color;
          font-size: 0.8rem;
          z-index: 0;

          i:before {
            font-size: 2rem;
          }

          span {
            display: block;
          }
        }
      }
    }
  }

  > section.details {
    transform: translate3d( 100%, 0, 0 );
    transition: transform 0.3s ease-in-out;

    &.active {
      transform: translate3d( 0, 0, 0 );
    }

    > div > div {
      padding: rem-calc(6);
      &:first-child {
        border-bottom: 1px solid $qw-border-bg;
      }
    }

    .heading {
      @include grid-row($behavior: collapse);
      max-height: 40px;

      > .back {
        @include grid-column($columns: 2, $collapse: true);
      }

      > .title {
        @include grid-column($columns: 10, $collapse: true);
        padding-top: rem-calc(10);
        font-size: 1.2rem;
        margin-left: rem-calc(-10);
        margin-right: rem-calc(10);
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    }

    .comment {
      @include grid-row($behavior: collapse);
      > .text {
        @include grid-column($columns: $total-columns, $collapse: true);
        > div {
          padding: rem-calc(6 24 6 6);
          font-size: rem-calc(13);
          line-height: 1.2;
          text-align: justify;
        }
      }
    }

    .meta {
      @include grid-row($behavior: collapse);
      > .content {
        @include grid-column($columns: $total-columns, $collapse: true);
        > div {padding: rem-calc(0 6);}
      }
    }

    .actions {
      @include grid-row($behavior: collapse);
      > .buttons {
        @include grid-column($columns: $total-columns, $collapse: true);
        > div {padding: rem-calc(0 6);}

        .qw-prio1-btn, .qw-prio2-btn {
          margin-right: rem-calc(6);
          vertical-align: top;
        }

        .qw-prio1-btn {
          padding: rem-calc(7 30);
          min-width: rem-calc(32);
          > i:before {
            margin-right: rem-calc(6);
            font-size: 1.5rem;
          }
        }

        .qw-prio2-btn {
          font-size: 1.5rem;
          padding: rem-calc(6 14);
          min-width: rem-calc(22);
        }
      }
    }
  }
}
