+function(a){var d=function(b,c){this.$element=a(b);this.options=a.extend({},d.DEFAULTS,c);this.placement=this.state=null;this.options.recalc&&(this.calcClone(),a(window).on("resize",a.proxy(this.recalc,this)));if(this.options.autohide&&!this.options.modal)a(document).on("click",a.proxy(this.autohide,this));this.options.toggle&&this.toggle();this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};d.DEFAULTS={exclude:".affix",
toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0,modal:!1};d.prototype.offset=function(){switch(this.placement){case "left":case "right":return this.$element.outerWidth();case "top":case "bottom":return this.$element.outerHeight()}};d.prototype.calcPlacement=function(){function b(a,b){if("auto"===f.css(b))return a;if("auto"===f.css(a))return b;var c=parseInt(f.css(a),10),e=parseInt(f.css(b),10);return c>e?b:a}if("auto"!==this.options.placement)this.placement=this.options.placement;
else{this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var c=a(window).width()/this.$element.width(),e=a(window).height()/this.$element.height(),f=this.$element;this.placement=c>=e?b("left","right"):b("top","bottom");"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")}};d.prototype.opposite=function(a){switch(a){case "top":return"bottom";case "left":return"right";case "bottom":return"top";case "right":return"left"}};
d.prototype.getCanvasElements=function(){var b=this.options.canvas?a(this.options.canvas):this.$element,c=b.find("*").filter(function(){return"fixed"===a(this).css("position")}).not(this.options.exclude);return b.add(c)};d.prototype.slide=function(b,c,e){if(!a.support.transition){var f={};f[this.placement]="+="+c;return b.animate(f,350,e)}var d=this.placement,g=this.opposite(d);b.each(function(){"auto"!==a(this).css(d)&&a(this).css(d,(parseInt(a(this).css(d),10)||0)+c);"auto"!==a(this).css(g)&&a(this).css(g,
(parseInt(a(this).css(g),10)||0)-c)});this.$element.one(a.support.transition.end,e).emulateTransitionEnd(350)};d.prototype.disableScrolling=function(){var b=a("body").width(),c="padding-"+this.opposite(this.placement);void 0===a("body").data("offcanvas-style")&&a("body").data("offcanvas-style",a("body").attr("style")||"");a("body").css("overflow-x","hidden");if(a("body").width()>b){var e=parseInt(a("body").css(c),10)+a("body").width()-b;setTimeout(function(){a("body").css(c,e)},1)}a("body").on("touchmove.bs",
function(a){a.preventDefault()})};d.prototype.enableScrolling=function(){a("body").off("touchmove.bs")};d.prototype.show=function(){if(!this.state){var b=a.Event("show.bs.offcanvas");this.$element.trigger(b);if(!b.isDefaultPrevented()){this.state="slide-in";this.calcPlacement();var c=this.getCanvasElements(),e=this.placement,d=this.opposite(e),h=this.offset();-1!==c.index(this.$element)&&(a(this.$element).data("offcanvas-style",a(this.$element).attr("style")||""),this.$element.css(e,-1*h),this.$element.css(e));
c.addClass("canvas-sliding").each(function(){void 0===a(this).data("offcanvas-style")&&a(this).data("offcanvas-style",a(this).attr("style")||"");"static"===a(this).css("position")&&a(this).css("position","relative");"auto"!==a(this).css(e)&&"0px"!==a(this).css(e)||"auto"!==a(this).css(d)&&"0px"!==a(this).css(d)||a(this).css(e,0)});this.options.disableScrolling&&this.disableScrolling();this.options.modal&&this.toggleBackdrop();var g=function(){"slide-in"==this.state&&(this.state="slid",c.removeClass("canvas-sliding").addClass("canvas-slid"),
this.$element.trigger("shown.bs.offcanvas"))};setTimeout(a.proxy(function(){this.$element.addClass("in");this.slide(c,h,a.proxy(g,this))},this),1)}}};d.prototype.hide=function(b){if("slid"===this.state&&(b=a.Event("hide.bs.offcanvas"),this.$element.trigger(b),!b.isDefaultPrevented())){this.state="slide-out";var c=a(".canvas-slid"),e=-1*this.offset(),d=function(){"slide-out"==this.state&&(this.placement=this.state=null,this.$element.removeClass("in"),c.removeClass("canvas-sliding"),c.add(this.$element).add("body").each(function(){a(this).attr("style",
a(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};this.options.disableScrolling&&this.enableScrolling();this.options.modal&&this.toggleBackdrop();c.removeClass("canvas-slid").addClass("canvas-sliding");setTimeout(a.proxy(function(){this.slide(c,e,a.proxy(d,this))},this),1)}};d.prototype.toggle=function(){if("slide-in"!==this.state&&"slide-out"!==this.state)this["slid"===this.state?"hide":"show"]()};d.prototype.toggleBackdrop=function(b){b=
b||a.noop;if("slide-in"==this.state){var c=a.support.transition;this.$backdrop=a('<div class="modal-backdrop fade" />').insertAfter(this.$element);c&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");this.$backdrop.on("click.bs",a.proxy(this.autohide,this));c?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else if("slide-out"==this.state&&this.$backdrop){this.$backdrop.removeClass("in");a("body").off("touchmove.bs");var e=this;a.support.transition?this.$backdrop.one(a.support.transition.end,
function(){e.$backdrop.remove();b();e.$backdrop=null}).emulateTransitionEnd(150):(this.$backdrop.remove(),this.$backdrop=null,b())}else b&&b()};d.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(a("body"))};d.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.placement=this.state=null;var b=this.getCanvasElements();this.$element.removeClass("in");
b.removeClass("canvas-slid");b.add(this.$element).add("body").each(function(){a(this).attr("style",a(this).data("offcanvas-style")).removeData("offcanvas-style")})}};d.prototype.autohide=function(b){0===a(b.target).closest(this.$element).length&&this.hide()};var k=a.fn.offcanvas;a.fn.offcanvas=function(b){return this.each(function(){var c=a(this),e=c.data("bs.offcanvas"),f=a.extend({},d.DEFAULTS,c.data(),"object"===typeof b&&b);e||c.data("bs.offcanvas",e=new d(this,f));if("string"===typeof b)e[b]()})};
a.fn.offcanvas.Constructor=d;a.fn.offcanvas.noConflict=function(){a.fn.offcanvas=k;return this};a(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(b){var c=a(this),e,d=c.attr("data-target")||b.preventDefault()||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");e=a(d);c=(d=e.data("bs.offcanvas"))?"toggle":c.data();b.stopPropagation();d?d.toggle():e.offcanvas(c);return!1})}(window.jQuery);
